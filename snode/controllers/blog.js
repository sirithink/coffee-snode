// Generated by CoffeeScript 1.6.2
var config, dbCache, log, logentries;

logentries = require('node-logentries');

config = require('../config');

dbCache = require('../dao/cache').dbCache;

log = logentries.logger(config.logToken);

exports.get = function(req, res) {
  var blog, blogs;

  blog = dbCache.get(req.params.id);
  blogs = dbCache.get('blogs');
  if ((blog != null) && (blogs != null)) {
    return res.render('blog', {
      title: blog.title,
      blog: blog,
      spots: blogs
    });
  } else {
    return res.render('error/404');
  }
};
